<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>VR Yrkeskollen</title>
    <meta name="description" content="Utforska olika yrken i 360-video med VR Yrkeskollen.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://aframe.io/releases/1.5.0/aframe.min.jssrc="https://unpkg.com/aframe-environment-componentframe-environment-component.min.js
    <script src="https://unpkg.com/aframe-youtube-component@^2.0.0/dist/aframe-youtube-componentstyle>
        body {
            margin: 0;
            font-family: sans-serif;
            background: #000;
            color: #fff;
            text-align: center;
        }
        #intro {
            padding: 2rem;
        }
        .a-enter-vr-button {
            background-color: #61dafb !important;
            color: #282c34 !important;
            border-radius: 8px !important;
            font-weight: bold !important;
            font-size: 1.2rem !important;
            padding: 1rem 1.5rem !important;
            animation: pulse 2s infinite;
            margin-top: 1rem;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            70% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <div id="intro">
        <h1>V칛lkommen till VR Yrkeskollen!</h1>
        <p>Klicka p친 knappen nedan f칬r att starta. Du kan se dig omkring med musen, mobilen eller med VR-glas칬gon.</p>
        <p>游녢 Klicka p친 den bl친a knappen f칬r att starta! 游녢</p>
    </div>

    <a-scene id="vr-scene" vr-mode-ui="enabled: true; enterVRButton: .a-enter-vr-button" visible="false">
        <a-camera>
            <a-cursor raycaster="objects: .clickable" fuse="true" fuse-timeout="1500">
                <a-entity geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.02" material="color: white; shader: flat"></a-entity>
            </a-cursor>
        </a-camera>

        <a-entity id="menu-view" visible="true">
            <a-entity environment="preset: forest; ground: hills; dressing: trees; skyType: atmosphere;"></a-entity>
            <a-entity position="0 1.6 -4">
                <a-text value="V칛lj ett yrke" align="center" width="6" position="0 1.5 0"></a-text>
                <a-entity position="-1 0 0">
                    <a-plane color="#555" width="1.8" height="0.7"></a-plane>
                    <a-text value="Ambulanssjukv친rdare" align="center" width="3"></a-text>
                    <a-plane id="btn-prof-ambulans" class="clickable" material="opacity: 0" width="1.8" height="0.7"></a-plane>
                </a-entity>
                <a-entity position="1 0 0">
                    <a-plane color="#555" width="1.8" height="0.7"></a-plane>
                    <a-text value="Undersk칬terska" align="center" width="3"></a-text>
                    <a-plane id="btn-prof-usk" class="clickable" material="opacity: 0" width="1.8" height="0.7"></a-plane>
                </a-entity>
            </a-entity>
        </a-entity>

        <a-entity id="video-view" visible="false">
            <a-entity id="video-player" geometry="primitive: sphere; radius: 99" material="shader: flat;" rotation="0 -90 0"></a-entity>
            <a-entity id="video-back-button" position="0 1.2 -3">
                <a-plane color="#E74C3C" width="1.5" height="0.4" rounded="0.1"></a-plane>
                <a-text value="Tillbaka till menyn" align="center" width="3"></a-text>
                <a-plane class="clickable" material="opacity: 0" width="1.5" height="0.4"></a-plane>
            </a-entity>
        </a-entity>
    </a-scene>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const intro = document.querySelector('#intro');
        const scene = document.querySelector('#vr-scene');
        const menuView = document.querySelector('#menu-view');
        const videoView = document.querySelector('#video-view');
        const videoPlayer = document.querySelector('#video-player');
        const videoBackButton = document.querySelector('#video-back-button');

        const playVideo = (youtubeId) => {
            menuView.setAttribute('visible', false);
            videoView.setAttribute('visible', true);
            videoPlayer.setAttribute('youtube', `videoId: ${youtubeId}`);
        };

        const resetToMainMenu = () => {
            videoView.setAttribute('visible', false);
            menuView.setAttribute('visible', true);
            videoPlayer.removeAttribute('youtube');
        };

        videoBackButton.addEventListener('click', resetToMainMenu);

        document.querySelector('#btn-prof-ambulans').addEventListener('click', () => playVideo('3e9q1jNQS-A'));
        document.querySelector('#btn-prof-usk').addEventListener('click', () => playVideo('JpS6xY-o3kU'));

        scene.addEventListener('enter-vr', () => {
            intro.style.display = 'none';
            scene.setAttribute('visible', 'true');
        });
        scene.addEventListener('exit-vr', () => {
            intro.style.display = 'block';
            scene.setAttribute('visible', 'false');
        });
    });
    </script>
</body>
</html>
