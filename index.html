<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>VR Yrkeskollen - Grundversion</title>
    <meta name="description" content="En grundläggande version för att visa 360-yrkesvideor.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-youtube-component@^2.0.0/dist/aframe-youtube-component.min.js"></script>
    <style>
        body { margin: 0; }
        .a-enter-vr-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 9999;
        }
    </style>
</head>
<body>
    <a-scene id="vr-scene" background="color: #1A237E">
        <a-assets>
            <video id="video-ambulans" src="youtube://3e9q1jNQS-A" preload="auto" crossorigin="anonymous"></video>
            <video id="video-underskoterska" src="youtube://JpS6xY-o3kU" preload="auto" crossorigin="anonymous"></video>
            <video id="video-anlaggningsarbetare" src="youtube://9bX-hZCpqjY" preload="auto" crossorigin="anonymous"></video>
            <video id="video-malare" src="youtube://j7fP4yK2vL0" preload="auto" crossorigin="anonymous"></video>
            <video id="video-maskinoperator" src="youtube://5H8r7yI0hT4" preload="auto" crossorigin="anonymous"></video>
            <video id="video-svetsare" src="youtube://o8M9iN3rTzM" preload="auto" crossorigin="anonymous"></video>
            <video id="video-butik" src="youtube://tG5a8fN9wYk" preload="auto" crossorigin="anonymous"></video>
            <video id="video-djurvardare" src="youtube://R5o-X8cQ4q0" preload="auto" crossorigin="anonymous"></video>
            <video id="video-lastbilsmekaniker" src="youtube://wK9yD8wX_1M" preload="auto" crossorigin="anonymous"></video>
        </a-assets>

        <a-camera>
            <a-cursor raycaster="objects: .clickable" fuse="true" fuse-timeout="1500"></a-cursor>
        </a-camera>
        
        <!-- Videospelaren är alltid här, men osynlig från start -->
        <a-videosphere id="video-player" radius="10" visible="false" rotation="0 -90 0"></a-videosphere>

        <!-- Menyerna är också alltid här -->
        <a-entity id="menu-container" position="0 1.6 -3.5" visible="true">
            <!-- Huvudmeny -->
            <a-entity id="category-menu" visible="true">
                <a-text value="Valj en bransch" align="center" color="white" width="6" position="0 1.2 0"></a-text>
                <a-entity position="-1.5 0.5 0"><a-plane color="#E74C3C" width="1.4" height="0.6"></a-plane><a-text value="Vard & Omsorg" align="center" color="white" width="2.5"></a-text><a-plane id="btn-cat-vard" class="clickable" material="opacity: 0" width="1.4" height="0.6"></a-plane></a-entity>
                <a-entity position="0 0.5 0"><a-plane color="#F39C12" width="1.4" height="0.6"></a-plane><a-text value="Bygg" align="center" color="white" width="2.5"></a-text><a-plane id="btn-cat-bygg" class="clickable" material="opacity: 0" width="1.4" height="0.6"></a-plane></a-entity>
                <a-entity position="1.5 0.5 0"><a-plane color="#3498DB" width="1.4" height="0.6"></a-plane><a-text value="Industri" align="center" color="white" width="2.5"></a-text><a-plane id="btn-cat-industri" class="clickable" material="opacity: 0" width="1.4" height="0.6"></a-plane></a-entity>
                <a-entity position="-0.75 -0.2 0"><a-plane color="#9B59B6" width="1.4" height="0.6"></a-plane><a-text value="Transport" align="center" color="white" width="2.5"></a-text><a-plane id="btn-cat-transport" class="clickable" material="opacity: 0" width="1.4" height="0.6"></a-plane></a-entity>
                <a-entity position="0.75 -0.2 0"><a-plane color="#2ECC71" width="1.4" height="0.6"></a-plane><a-text value="Service" align="center" color="white" width="2.5"></a-text><a-plane id="btn-cat-service" class="clickable" material="opacity: 0" width="1.4" height="0.6"></a-plane></a-entity>
            </a-entity>

            <!-- Undermenyer -->
            <a-entity id="profession-menu-vard" visible="false">
                <a-entity position="-1 0 0"><a-plane color="#555" width="1.8" height="0.7"></a-plane><a-text value="Ambulans" align="center" color="white" width="3"></a-text><a-plane id="btn-prof-ambulans" class="clickable" material="opacity: 0" width="1.8" height="0.7"></a-plane></a-entity>
                <a-entity position="1 0 0"><a-plane color="#555" width="1.8" height="0.7"></a-plane><a-text value="Underskoterska" align="center" color="white" width="3"></a-text><a-plane id="btn-prof-usk" class="clickable" material="opacity: 0" width="1.8" height="0.7"></a-plane></a-entity>
            </a-entity>
            <a-entity id="profession-menu-bygg" visible="false">
                <a-entity position="-1 0 0"><a-plane color="#555" width="1.8" height="0.7"></a-plane><a-text value="Anlaggning" align="center" color="white" width="3"></a-text><a-plane id="btn-prof-anlaggning" class="clickable" material="opacity: 0" width="1.8" height="0.7"></a-plane></a-entity>
                <a-entity position="1 0 0"><a-plane color="#555" width="1.8" height="0.7"></a-plane><a-text value="Malare" align="center" color="white" width="3"></a-text><a-plane id="btn-prof-malare" class="clickable" material="opacity: 0" width="1.8" height="0.7"></a-plane></a-entity>
            </a-entity>
            <a-entity id="profession-menu-industri" visible="false">
                <a-entity position="-1 0 0"><a-plane color="#555" width="1.8" height="0.7"></a-plane><a-text value="Maskinoperator" align="center" color="white" width="3"></a-text><a-plane id="btn-prof-maskin" class="clickable" material="opacity: 0" width="1.8" height="0.7"></a-plane></a-entity>
                <a-entity position="1 0 0"><a-plane color="#555" width="1.8" height="0.7"></a-plane><a-text value="Svetsare" align="center" color="white" width="3"></a-text><a-plane id="btn-prof-svetsare" class="clickable" material="opacity: 0" width="1.8" height="0.7"></a-plane></a-entity>
            </a-entity>
            <a-entity id="profession-menu-transport" visible="false">
                <a-entity position="0 0 0"><a-plane color="#555" width="1.8" height="0.7"></a-plane><a-text value="Lastbilsmekaniker" align="center" color="white" width="3"></a-text><a-plane id="btn-prof-mekaniker" class="clickable" material="opacity: 0" width="1.8" height="0.7"></a-plane></a-entity>
            </a-entity>
            <a-entity id="profession-menu-service" visible="false">
                <a-entity position="-1 0 0"><a-plane color="#555" width="1.8" height="0.7"></a-plane><a-text value="Butikspersonal" align="center" color="white" width="3"></a-text><a-plane id="btn-prof-butik" class="clickable" material="opacity: 0" width="1.8" height="0.7"></a-plane></a-entity>
                <a-entity position="1 0 0"><a-plane color="#555" width="1.8" height="0.7"></a-plane><a-text value="Djurvardare" align="center" color="white" width="3"></a-text><a-plane id="btn-prof-djur" class="clickable" material="opacity: 0" width="1.8" height="0.7"></a-plane></a-entity>
            </a-entity>
        </a-entity>
        
        <!-- Knappar för att starta om eller gå tillbaka -->
        <a-entity id="restart-button" visible="false" position="0 0.8 -3.5">
            <a-plane color="#f44336" width="1.2" height="0.4"></a-plane>
            <a-text value="Starta Om" align="center" color="white" width="2.5"></a-text>
            <a-plane class="clickable" material="opacity: 0" width="1.2" height="0.4"></a-plane>
        </a-entity>
        <a-entity id="video-back-button" visible="false" position="0 1.2 -3">
            <a-plane color="#E74C3C" width="1.5" height="0.4"></a-plane>
            <a-text value="Tillbaka till menyn" align="center" color="white" width="3"></a-text>
            <a-plane class="clickable" material="opacity: 0" width="1.5" height="0.4"></a-plane>
        </a-entity>
    </a-scene>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const menuContainer = document.querySelector('#menu-container');
        const videoPlayer = document.querySelector('#video-player');
        const videoBackButton = document.querySelector('#video-back-button');
        const restartButton = document.querySelector('#restart-button');

        const categoryMenu = document.querySelector('#category-menu');
        const professionMenus = {
            vard: document.querySelector('#profession-menu-vard'),
            bygg: document.querySelector('#profession-menu-bygg'),
            industri: document.querySelector('#profession-menu-industri'),
            transport: document.querySelector('#profession-menu-transport'),
            service: document.querySelector('#profession-menu-service'),
        };

        const showMenu = (menuToShow) => {
            categoryMenu.setAttribute('visible', false);
            for (const key in professionMenus) {
                professionMenus[key].setAttribute('visible', false);
            }
            menuToShow.setAttribute('visible', true);
            restartButton.setAttribute('visible', menuToShow !== categoryMenu);
        };

        const playVideo = (videoId) => {
            menuContainer.setAttribute('visible', false);
            restartButton.setAttribute('visible', false);
            
            videoPlayer.setAttribute('src', `#${videoId}`);
            videoPlayer.setAttribute('visible', 'true');
            
            setTimeout(() => {
                const youtubeComponent = videoPlayer.components.youtube;
                if (youtubeComponent) {
                    youtubeComponent.play();
                }
            }, 500);

            videoBackButton.setAttribute('visible', 'true');
        };

        const resetToMainMenu = () => {
            const youtubeComponent = videoPlayer.components.youtube;
            if (youtubeComponent && videoPlayer.getAttribute('src')) {
                youtubeComponent.pause();
                videoPlayer.setAttribute('src', '');
            }
            
            videoPlayer.setAttribute('visible', 'false');
            videoBackButton.setAttribute('visible', 'false');
            
            menuContainer.setAttribute('visible', 'true');
            showMenu(categoryMenu);
        };

        videoBackButton.addEventListener('click', resetToMainMenu);
        restartButton.addEventListener('click', resetToMainMenu);

        document.querySelector('#btn-cat-vard').addEventListener('click', () => showMenu(professionMenus.vard));
        document.querySelector('#btn-cat-bygg').addEventListener('click', () => showMenu(professionMenus.bygg));
        document.querySelector('#btn-cat-industri').addEventListener('click', () => showMenu(professionMenus.industri));
        document.querySelector('#btn-cat-transport').addEventListener('click', () => showMenu(professionMenus.transport));
        document.querySelector('#btn-cat-service').addEventListener('click', () => showMenu(professionMenus.service));

        document.querySelector('#btn-prof-ambulans').addEventListener('click', () => playVideo('video-ambulans'));
        document.querySelector('#btn-prof-usk').addEventListener('click', () => playVideo('video-underskoterska'));
        document.querySelector('#btn-prof-anlaggning').addEventListener('click', () => playVideo('video-anlaggningsarbetare'));
        document.querySelector('#btn-prof-malare').addEventListener('click', () => playVideo('video-malare'));
        document.querySelector('#btn-prof-maskin').addEventListener('click', () => playVideo('video-maskinoperator'));
        document.querySelector('#btn-prof-svetsare').addEventListener('click', () => playVideo('video-svetsare'));
        document.querySelector('#btn-prof-mekaniker').addEventListener('click', () => playVideo('video-lastbilsmekaniker'));
        document.querySelector('#btn-prof-butik').addEventListener('click', () => playVideo('video-butik'));
        document.querySelector('#btn-prof-djur').addEventListener('click', () => playVideo('video-djurvardare'));
    });
    </script>
</body>
</html>
